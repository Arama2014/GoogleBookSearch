
<!DOCTYPE html>
<html>
<head>

	<title>AboutBooks</title>



<style>

body {

	background-color
}




  
.text{
  margin-left:10px;
display:inline-block;
}

  

.image{
      vertical-align: top;
    display: inline-grid;
}



</style>








<script src= "https://apis.google.com/js/api.js"></script>


</head>
<body>
<h1>Search Google Books</h1>

<script>

var data;
var authors =[];
var imageLinks =[];
var publishers=[];
var titles =[];
var titlesDisplay =[];
var authorsDisplay =[];
var imageLinksDisplay =[]
var publishersDisplay =[]
var infoLinks = []
function start() {

//Initializes the Javascript client library 

gapi.client.init({
'apiKey': 'AIzaSyCgFZf1U1tOvHM1_zaviPr_hbjEoRZMYeI',
//'path': 'https://www.googleapis.com/books/v1/volumes?q='+searchTarget 
'path': 'https://www.googleapis.com/books/v1/volumes?'
//https://www.googleapis.com/books/v1/volumes?q=flowers&projection=lite&key=AIzaSyCgFZf1U1tOvHM1_zaviPr_hbjEoRZMYeI

}).then(function() {
//Initialize and make the API request
return gapi.client.request({
	
  q: 'searchTarget',
            maxResults: 40,
            startIndex: '0'
	//'path': 'https://www.googleapis.com/books/v1/volumes?q='+searchTarget

  //'path': 'https://www.googleapis.com/books/v1/volumes?q='+searchTarget +'startIndex=0'+ 'maxResults=40'

  //'path': 'https://www.googleapis.com/books/v1/volumes?q='+searchTarget 
  

});

}) .then(function(response){
 data= response.result;
 //clearing out variables so they can hold new search information
authors =[];
imageLinks =[];
publishers=[];
titles =[];
titlesDisplay =[];
authorsDisplay =[];
imageLinksDisplay =[]
publishersDisplay =[]
infoLinks =[]
infoLinksDisplay=[]
 for (i=0;i<data.items.length; i++){


  titles.push(data.items[i].volumeInfo.title);
 	authors.push( data.items[i].volumeInfo.authors);
 	if(!data.items[i].volumeInfo.imageLinks)
 		{imageLinks.push("No image available for this book.")}
 	else{imageLinks.push(data.items[i].volumeInfo.imageLinks.thumbnail); }

    if(!data.items[i].volumeInfo.publisher)
 		{publishers.push("No publisher available for this book.")}
 	else{publishers.push(data.items[i].volumeInfo.publisher); }

 	infoLinks.push(data.items[i].volumeInfo.infoLink);
  
   
     

    titlesDisplay = document.getElementsByClassName('titlesDisplay')
    titlesDisplay[i].innerHTML = titles[i];
 	
 	authorsDisplay = document.getElementsByClassName('authorsDisplay')
    authorsDisplay[i].innerHTML = 'by:' + authors[i];

    publishersDisplay = document.getElementsByClassName('publishersDisplay')
    publishersDisplay[i].innerHTML = 'published by: '+ publishers[i];

    imageLinksDisplay = document.getElementsByClassName('imageLinksDisplay')
    imageLinksDisplay[i].src = imageLinks[i];

    infoLinksDisplay = document.getElementsByClassName('infoLinksDisplay')
    infoLinksDisplay[i].href = infoLinks[i];

    
 }
	//console.log(response.result);
}, function(reason) {
	console.log('Error:' + reason.result.error.message);
});
};
// load the javascriptclient library.
	
var searchTarget;

 function startSearch() {
 	
 	searchTarget = document.getElementById('mySearch').value; //retrives the value of user input stores into searchTarget variable
 	document.getElementById('searchtext').innerHTML = "Now searching for " + searchTarget; //displays what user is searching for
 	gapi.load('client', start); //calls gapi function which calls start function
 
}

 

</script>



<div> 
<label for = 'booksearch'> Enter Book Search:</label>
<input type ='search' id= 'mySearch' placeholder = 'Search for something..'>
<!--<textarea id='booksearch' name ='user_booksearch'></textarea> -->
</div>
<div class = 'button'>
<!--<button  = 'submit'> Submit </button>-->

<button onclick = 'startSearch()'> Submit </button>
</div>

<p id='searchtext'></p>

<div class="image">
  <img class ='imageLinksDisplay'></img>
  <a class = "infoLinksDisplay"  > <button>  Read More</button></a>
</div>

<div   class = "text">
  <p class ='titlesDisplay'></p>
  <p class ='authorsDisplay'> </p>
  <p class ='publishersDisplay'></p>
</div>


<p class ='titlesDisplay'></p>
<p class ='authorsDisplay'></p>
<p class ='publishersDisplay'></p>
<img class ='imageLinksDisplay'></img><br>
<a class = "infoLinksDisplay" > <button>Read More</button></a>







<div> 

</div>
</body>
</html>